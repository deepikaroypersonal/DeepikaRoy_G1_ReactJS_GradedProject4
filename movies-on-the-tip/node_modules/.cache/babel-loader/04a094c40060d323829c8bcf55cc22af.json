{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\droy\\\\Documents\\\\Personal\\\\tutorial\\\\GL Learning Material\\\\FrontEnd\\\\Code submission\\\\Lab1\\\\Practice\\\\FrontEnd_GradedAssignment3\\\\movies-on-the-tip\\\\src\\\\components\\\\movies\\\\MovieList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { getMovies } from \"../../services/movie\";\nimport Movie from \"./Movie\";\nimport AlertHelper from \"../common/AlertHelper\";\nimport LoadingIndicator from \"../common/LoadingIndicator\";\nimport MovieContext from \"../context/MovieContext\";\nimport \"./MoviesList.css\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieList = _ref => {\n  _s();\n\n  let {\n    showRemove,\n    searchValue\n  } = _ref;\n  const movieContext = React.useContext(MovieContext);\n  const [status, setStatus] = useState(\"Loading\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [isRemoved, setIsRemoved] = useState(false);\n\n  const cleanUp = () => {\n    setMovies([]);\n    setError(null);\n    setStatus(\"Loading\");\n    setIsRemoved(false);\n  };\n\n  const fetchMovies = async () => {\n    try {\n      let data = await getMovies(movieContext);\n\n      if (searchValue.trim().length > 0) {\n        data = data.filter(x => x.title.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase()));\n      }\n\n      setMovies(data);\n      setStatus(\"Loaded\");\n      setError(null);\n    } catch (error) {\n      setMovies([]);\n      setStatus(\"Error\");\n      setError(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, []);\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, [isRemoved]);\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, [searchValue]);\n\n  let el = /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n\n  switch (status) {\n    case \"Loading\":\n      el = /*#__PURE__*/_jsxDEV(LoadingIndicator, {\n        size: \"large\",\n        message: \"Please wait while we are fetching movies...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this);\n      break;\n\n    case \"Loaded\":\n      el = movies.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n        xs: 2,\n        md: 4,\n        lg: 6,\n        className: \"cardsBody\",\n        children: movies.map((movie, index) => {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"d-flex align-items-stretch my-3 \",\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: \"200px\",\n              padding: \"5px\",\n              margin: \"5px 0\",\n              backgroundColor: \"#3333\",\n              borderRadius: \"10px\",\n              position: \"relative\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Movie, {\n              movie: movie,\n              showRemove: showRemove,\n              changeHandler: () => setIsRemoved(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(AlertHelper, {\n        variant: \"info\",\n        message: \"No movies found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this);\n      break;\n\n    case \"Error\":\n      el = /*#__PURE__*/_jsxDEV(AlertHelper, {\n        variant: \"danger\",\n        message: \"Failed to get movie details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this);\n      break;\n  }\n\n  return el;\n};\n\n_s(MovieList, \"0awrprPc112YcCIJMUr9tdTq56A=\");\n\n_c = MovieList;\nexport default MovieList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useEffect","useState","Col","Row","getMovies","Movie","AlertHelper","LoadingIndicator","MovieContext","MovieList","showRemove","searchValue","movieContext","useContext","status","setStatus","movies","setMovies","error","setError","isRemoved","setIsRemoved","cleanUp","fetchMovies","data","trim","length","filter","x","title","toLocaleLowerCase","includes","el","map","movie","index","display","flexDirection","width","padding","margin","backgroundColor","borderRadius","position"],"sources":["C:/Users/droy/Documents/Personal/tutorial/GL Learning Material/FrontEnd/Code submission/Lab1/Practice/FrontEnd_GradedAssignment3/movies-on-the-tip/src/components/movies/MovieList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport MovieDetail from \"../../models/MovieDetail\";\nimport { getMovies } from \"../../services/movie\";\nimport Movie from \"./Movie\";\nimport { LoadingStatus } from \"../../GlobalConstants\";\nimport AlertHelper from \"../common/AlertHelper\";\nimport LoadingIndicator from \"../common/LoadingIndicator\";\nimport MovieContext from \"../context/MovieContext\";\nimport \"./MoviesList.css\";\n\ntype Props = {\n  showRemove: boolean;\n  searchValue: string;\n};\n\nconst MovieList = ({ showRemove, searchValue }: Props) => {\n  const movieContext = React.useContext(MovieContext);\n\n  const [status, setStatus] = useState<LoadingStatus>(\"Loading\");\n  const [movies, setMovies] = useState<MovieDetail[]>([]);\n  const [error, setError] = useState<Error | null>(null);\n  const [isRemoved, setIsRemoved] = useState(false);\n\n  const cleanUp = () => {\n    setMovies([]);\n    setError(null);\n    setStatus(\"Loading\");\n    setIsRemoved(false);\n  };\n\n  const fetchMovies = async () => {\n    try {\n      let data = await getMovies(movieContext);\n      if (searchValue.trim().length > 0) {\n        data = data.filter((x) =>\n          x.title.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase())\n        );\n      }\n      setMovies(data);\n      setStatus(\"Loaded\");\n      setError(null);\n    } catch (error: any) {\n      setMovies([]);\n      setStatus(\"Error\");\n      setError(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, []);\n\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, [isRemoved]);\n\n  useEffect(() => {\n    fetchMovies();\n    return cleanUp();\n  }, [searchValue]);\n\n  let el = <></>;\n\n  switch (status) {\n    case \"Loading\":\n      el = (\n        <LoadingIndicator\n          size=\"large\"\n          message=\"Please wait while we are fetching movies...\"\n        />\n      );\n      break;\n    case \"Loaded\":\n      el =\n        movies.length > 0 ? (\n          <Row xs={2} md={4} lg={6} className=\"cardsBody\">\n            {movies.map((movie, index) => {\n              return (\n                <Col\n                  className=\"d-flex align-items-stretch my-3 \"\n                  key={index}\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    width: \"200px\",\n                    padding: \"5px\",\n                    margin: \"5px 0\",\n                    backgroundColor: \"#3333\",\n                    borderRadius: \"10px\",\n                    position: \"relative\",\n                  }}\n                >\n                  <Movie\n                    movie={movie}\n                    showRemove={showRemove}\n                    changeHandler={() => setIsRemoved(true)}\n                  />\n                </Col>\n              );\n            })}\n          </Row>\n        ) : (\n          <AlertHelper variant=\"info\" message=\"No movies found\"></AlertHelper>\n        );\n      break;\n    case \"Error\":\n      el = (\n        <AlertHelper variant=\"danger\" message=\"Failed to get movie details\" />\n      );\n      break;\n  }\n\n  return el;\n};\n\nexport default MovieList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}